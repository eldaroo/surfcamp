"use strict";exports.id=50,exports.ids=[50],exports.modules={7050:(e,o,s)=>{s.d(o,{CW:()=>sendWelcomeMessage,Jf:()=>sendBookingReminder,U3:()=>sendWhatsAppMessage,jJ:()=>sendBookingConfirmation});let sendWhatsAppMessage=async(e,o)=>{let s=e.replace(/[^0-9]/g,"");s.startsWith("54")||(s="54"+s);let a=s+"@c.us";try{let e=await fetch("https://api.green-api.com/waInstance7105281616/sendMessage/e44f5320e85d4222baff6089d5f192bc6363f86e55da4e3e8c",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:a,message:o})}),s=await e.json();if(!e.ok)return console.error("[GreenAPI] Error HTTP:",s),{success:!1,error:s.error||"Error enviando mensaje"};return{success:!0,messageId:s.idMessage}}catch(e){return console.error("[GreenAPI] Error de conexi\xf3n:",e),{success:!1,error:"Error de conexi\xf3n"}}},getRoomTypeName=e=>({"casa-playa":"Casa de Playa (Cuarto Compartido)","casitas-privadas":"Casitas Privadas","casas-deluxe":"Casas Deluxe"})[e]||e,formatDateForWhatsApp=e=>{let o=new Date(e);return o.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},sendBookingConfirmation=async(e,o)=>sendWhatsAppMessage(e,"booking_confirmation",{checkIn:formatDateForWhatsApp(o.checkIn),checkOut:formatDateForWhatsApp(o.checkOut),roomType:getRoomTypeName(o.roomTypeId),guests:o.guests,bookingReference:o.bookingReference,total:o.total,guestName:o.guestName}),sendBookingReminder=async(e,o)=>sendWhatsAppMessage(e,"booking_reminder",{checkIn:formatDateForWhatsApp(o.checkIn),roomType:getRoomTypeName(o.roomTypeId),bookingReference:o.bookingReference,guestName:o.guestName}),sendWelcomeMessage=async(e,o)=>sendWhatsAppMessage(e,"welcome_message",{roomType:getRoomTypeName(o.roomTypeId),bookingReference:o.bookingReference,guestName:o.guestName})}};